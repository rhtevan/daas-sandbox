schema_version: 1

name: "quay.io/kiegroup/daas-executor-service"
from: "registry.access.redhat.com/ubi8/ubi-minimal:8.0"
version: "0.1"
description: "KIE DaaS Executor Service"

labels:
  - name: "io.k8s.display-name"
    value: "KIE DaaS Executor Service"
  - name: "io.k8s.description"
    value: "KIE DaaS Executor Service"
  - name: "io.openshift.tags"
    value: "daas,executor-service"

packages:
  manager: "microdnf"

modules:
  repositories:
    - path: "modules"
    - git:
        url: "https://github.com/jboss-openshift/cct_module"
        ref: "0.41.0"
  install:
    - name: "org.kie.daas.common"
    # - name: "org.kie.daas.openjdk"
    #   version: "11-devel"
    - name: "org.kie.daas.graalvm"
      version: "20.1.x-ce-java11"
    - name: "org.kie.daas.maven"
      version: "3.6.x"
    - name: "org.kie.daas.jboss"
    - name: "jboss.container.java.jvm.bash"
    - name: "org.kie.daas.cleanup"

run:
  workdir: "/home/daas"
  user: 1001
  cmd:
      - "/home/daas/launch/launch-placeholder.sh"
